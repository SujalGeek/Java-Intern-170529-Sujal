server {
    listen 80;

    # 1. Global Root (Default)
    root /usr/share/nginx/html;
    index index.html;

    # 2. Handle React Routing (Main App)
    location / {
        try_files $uri $uri/ /index.html;
    }

    # 3. Handle Assets (CSS/JS/Images)
    # We explicitly repeat the 'root' here to force Nginx to look in the right place
    location ~* \.(?:css|js|map|jpe?g|gif|png|ico|svg)$ {
        root /usr/share/nginx/html;
        expires 1y;
        add_header Cache-Control "public";
    }
}